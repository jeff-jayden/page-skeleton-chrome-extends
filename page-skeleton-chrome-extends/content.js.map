{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/style/index.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./src/content.js","webpack:///./src/script/animation/index.js","webpack:///./src/script/config.js","webpack:///./src/script/handler/background.js","webpack:///./src/script/handler/button.js","webpack:///./src/script/handler/grayBlock.js","webpack:///./src/script/handler/image.js","webpack:///./src/script/handler/index.js","webpack:///./src/script/handler/list.js","webpack:///./src/script/handler/pseudos.js","webpack:///./src/script/handler/styleCache.js","webpack:///./src/script/handler/svg.js","webpack:///./src/script/handler/text.js","webpack:///./src/script/main.js","webpack:///./src/script/util.js","webpack:///./src/skeleton.js","webpack:///./src/style/index.css?9cf0","webpack:///./src/util/chromeMsg.js"],"names":[],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,6BAA6B;AACjD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;;;;;;;AC5QA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACf;AACc;;AAExC,uDAAS;AACT;AACA,EAAE,6DAAW;AACb;AACA;AACA;AACA;AACA;AACA,GAAG,uDAAS;AACZ,GAAG,uDAAS;AACZ;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;AACA;AACA,CAAC;;;;;;;;;;;;;ACrBD;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACP;AACO,wCAAwC;AACxC;AACA;;;;;;;;;;;;;ACfP;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACmD;AACN;AACP;;AAEtC,iCAAiC,eAAe;AAChD,qBAAqB,yDAAiB;AACtC,qBAAqB,yDAAiB;AACtC;AACA,kBAAkB,MAAM;AACxB,GAAG;;AAEH,EAAE,4DAAQ,KAAK,WAAW;;AAE1B,EAAE,8DAAU;;AAEZ,EAAE,0DAAY;AACd;;AAEe,gFAAiB;;;;;;;;;;;;;ACrBhC;AAAA;AAAA;AAAA;AACA;AACA;AACuC;AACM;;AAE7C,6BAA6B,kBAAkB;AAC/C;AACA,oBAAoB,yDAAiB;AACrC;AACA,aAAa,MAAM;AACnB,kBAAkB,MAAM;AACxB;AACA;AACA,GAAG;AACH,EAAE,4DAAQ,KAAK,UAAU;AACzB;AACA;;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gB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,oBAAoB,kBAAkB;AACtC;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6DAAe,+BAA+B;AAC/E,oBAAoB,yDAAiB;;AAErC;AACA,oDAAoD,gBAAgB,KAAK,MAAM,OAAO,MAAM,GAAG,iBAAiB;AAChH,uBAAuB;AACvB,gBAAgB,SAAS;AACzB,GAAG;;AAEH,8BAA8B,yDAAiB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,EAAE,4DAAQ,KAAK,UAAU;AACzB,EAAE,4DAAQ,KAAK,oBAAoB;AACnC,EAAE,0DAAY;AACd;AACA;AACA;AACA;AACA,GAAG;AACH,sBAAsB,0DAAY;AAClC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,kCAAkC,oDAAoD,IAAI,6DAAe,+BAA+B;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,0EAAW;;;;;;;;;;;;;ACrJ1B;AAAA;AAAA;AAAA;AAAA;AAAA;;AAce;AAUE;AAC4B;AACA;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,kDAAkD,gDAAE;AACpD,+CAA+C,gDAAE;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,wDAAgB,KAAK,uDAAe;AAClD,mBAAmB,gDAAE;AACrB;;AAEA;AACA;AACA,+BAA+B,gDAAE;AACjC;;AAEA,EAAE;AACF;AACA,mCAAmC,gDAAE;AACrC;AACA,EAAE;AACF;AACA,EAAE;AACF,iBAAiB,8DAAgB;AACjC,uBAAuB,+DAAiB;AACxC,OAAO,wDAAU,SAAS,oDAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,MAAM,4DAAc;AACpB;AACA;;AAEA;AACA,GAAG,sDAAY;AACf;AACA;AACA;AACA;;AAEA;AACA,8EAA8E,4CAAI;AAClF,GAAG,yDAAW;AACd;AACA,MAAM,oEAAsB;AAC5B,mCAAmC,mDAAW;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,+CAAO,4BAA4B,+CAAO;AAChD;AACA;AACA;AACA;AACA,MAAM,oDAAY,4BAA4B,oDAAY;AAC1D;AACA;AACA,+BAA+B,yDAAW;AAC1C;AACA;AACA;AACA,oBAAoB,4CAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,4CAAI;AACtC;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,qBAAqB,qDAAW;AAChC,sBAAsB,sDAAY;AAClC,wBAAwB,wDAAc;AACtC;;AAEA,iCAAiC,4DAAkB;AACnD,qBAAqB,uDAAa;AAClC,wBAAwB,yDAAe;AACvC,iCAAiC,4DAAkB;AACnD,2BAA2B,2DAAiB;AAC5C;AACA,4BAA4B,+CAAC,KAAK,oDAAY,CAAC;AAC/C;AACA;AACA;AACA,yBAAyB,2DAAa;AACtC;;AAEA;AACA,QAAQ,iCAAiC;AACzC;AACA;AACA;AACA;AACA;AACA,kBAAkB,gDAAE;AACpB,uCAAuC,wDAAU;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC,2DAAU;AAC1C,cAAc,SAAS,GAAG,KAAK;AAC/B;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEe;AACf;AACA,CAAC;;;;;;;;;;;;;ACzMD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuE;AACxB;;AAExC;AACA;AACA;AACA;;AAEA;AACP;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEO;;AAEA;;AAEA;;AAEA;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,cAAc,iEAAiE,EAAE,KAAK;AACtF,GAAG;AACH;AACA;AACA,cAAc,wCAAwC,EAAE,KAAK;AAC7D;AACA;;AAEO;AACP,sDAAsD,oDAAY,CAAC;AACnE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,4BAA4B,oDAAY;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP,oBAAoB,yDAAiB;AACrC;AACA;AACA,GAAG;AACH,EAAE,oEAAQ,KAAK,UAAU;AACzB;AACA;;AAEO;AACP,oBAAoB,yDAAiB;AACrC;AACA,aAAa,mDAAW,CAAC;AACzB,GAAG;AACH,EAAE,oEAAQ,KAAK,UAAU;AACzB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;AC1GA;AAAA;AAAA;AAAA;AAAA;;AAEoC;AACqC;;AAEzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,cAAc;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAmB;AACxC,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6PAA6P,sBAAsB,uBAAuB,WAAW,sBAAsB,wBAAwB,yBAAyB,6BAA6B,WAAW,aAAa,+BAA+B,WAAW;AAC3d;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,gEAAgE;AAChE,+DAA+D;AAC/D,mCAAmC;AACnC,wBAAwB;AACxB,yBAAyB;AACzB,yDAAyD;AACzD,sBAAsB;AACtB,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,GAAG,2EAAQ;AACX;AACA;AACA,GAAG,0EAAO;AACV;AACA;AACA,GAAG,2EAAQ;AACX;AACA;AACA,GAAG,0EAAO;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ,mBAAmB;AAC3B,SAAS,qDAAqD;AAC9D,UAAU,iCAAiC;AAC3C,OAAO,uDAAuD;AAC9D,UAAU,uDAAuD;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP,yBAAyB;AACzB,CAAC,oDAAQ;AACT;AACA;;;;;;;;;;;;ACtQA,UAAU,mBAAO,CAAC,sJAA2E;AAC7F,0BAA0B,mBAAO,CAAC,2HAAyD;;AAE3F;;AAEA;AACA,0BAA0B,QAAS;AACnC;;AAEA;;AAEA;AACA;;AAEA;;;;AAIA,sC;;;;;;;;;;;;AClBA;AAAA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;;AAEe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,UAAU;AACzC;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,4CAA4C,iBAAiB;AAC7D,SAAS;AACT;AACA,wCAAwC,iBAAiB;AACzD;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC","file":"content.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/content.js\");\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\r\\n.sk * {\\r\\n    color: #eee;\\r\\n}\\r\\n\\r\\n.sk-text {\\r\\n    --c: #eee;\\r\\n    --fp: 0%;\\r\\n    --sp: 0%;\\r\\n    --lh: 0;\\r\\n\\r\\n    display: inline-block;\\r\\n    background-origin: content-box !important;\\r\\n    background-clip: content-box !important;\\r\\n    background-color: transparent !important;\\r\\n    background-repeat: repeat-y !important;\\r\\n    /*color: var(--c) !important;*/\\r\\n    background-image: linear-gradient(transparent var(--fp), var(--c) 0, var(--c) var(--sp), transparent 0);\\r\\n    background-size: 100% var(--lh);\\r\\n    color: transparent !important;\\r\\n\\r\\n}\\r\\n\\r\\n.sk-text > * {\\r\\n    color: transparent;\\r\\n}\\r\\n\\r\\n.sk-button {\\r\\n    color: #eee !important;\\r\\n    background: #eee !important;\\r\\n    border: none !important;\\r\\n    box-shadow: none !important;\\r\\n    outline: none !important;\\r\\n}\\r\\n\\r\\n.sk-border {\\r\\n    /*outline: 1px solid #eee !important;*/\\r\\n    border-color: #eee;\\r\\n}\\r\\n\\r\\n.sk-bg {\\r\\n    background: #eee !important;\\r\\n}\\r\\n\\r\\n.sk-list {\\r\\n    color: #eee;\\r\\n}\\r\\n\\r\\n.sk-input {\\r\\n    background: #eee !important;\\r\\n    color: transparent !important;\\r\\n    border-color: transparent;\\r\\n}\\r\\n\\r\\n.sk-input::-webkit-input-placeholder {\\r\\n    color: transparent !important;\\r\\n}\\r\\n\\r\\n.sk-block {\\r\\n    background-color: #eee !important;\\r\\n    border-color: #eee !important;\\r\\n}\\r\\n\\r\\n.sk-ignore {\\r\\n    opacity: 0;\\r\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/style/index.css\"],\"names\":[],\"mappings\":\";AACA;IACI,WAAW;AACf;;AAEA;IACI,SAAS;IACT,QAAQ;IACR,QAAQ;IACR,OAAO;;IAEP,qBAAqB;IACrB,yCAAyC;IACzC,uCAAuC;IACvC,wCAAwC;IACxC,sCAAsC;IACtC,8BAA8B;IAC9B,uGAAuG;IACvG,+BAA+B;IAC/B,6BAA6B;;AAEjC;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,sBAAsB;IACtB,2BAA2B;IAC3B,uBAAuB;IACvB,2BAA2B;IAC3B,wBAAwB;AAC5B;;AAEA;IACI,sCAAsC;IACtC,kBAAkB;AACtB;;AAEA;IACI,2BAA2B;AAC/B;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,2BAA2B;IAC3B,6BAA6B;IAC7B,yBAAyB;AAC7B;;AAEA;IACI,6BAA6B;AACjC;;AAEA;IACI,iCAAiC;IACjC,6BAA6B;AACjC;;AAEA;IACI,UAAU;AACd\",\"sourcesContent\":[\"\\r\\n.sk * {\\r\\n    color: #eee;\\r\\n}\\r\\n\\r\\n.sk-text {\\r\\n    --c: #eee;\\r\\n    --fp: 0%;\\r\\n    --sp: 0%;\\r\\n    --lh: 0;\\r\\n\\r\\n    display: inline-block;\\r\\n    background-origin: content-box !important;\\r\\n    background-clip: content-box !important;\\r\\n    background-color: transparent !important;\\r\\n    background-repeat: repeat-y !important;\\r\\n    /*color: var(--c) !important;*/\\r\\n    background-image: linear-gradient(transparent var(--fp), var(--c) 0, var(--c) var(--sp), transparent 0);\\r\\n    background-size: 100% var(--lh);\\r\\n    color: transparent !important;\\r\\n\\r\\n}\\r\\n\\r\\n.sk-text > * {\\r\\n    color: transparent;\\r\\n}\\r\\n\\r\\n.sk-button {\\r\\n    color: #eee !important;\\r\\n    background: #eee !important;\\r\\n    border: none !important;\\r\\n    box-shadow: none !important;\\r\\n    outline: none !important;\\r\\n}\\r\\n\\r\\n.sk-border {\\r\\n    /*outline: 1px solid #eee !important;*/\\r\\n    border-color: #eee;\\r\\n}\\r\\n\\r\\n.sk-bg {\\r\\n    background: #eee !important;\\r\\n}\\r\\n\\r\\n.sk-list {\\r\\n    color: #eee;\\r\\n}\\r\\n\\r\\n.sk-input {\\r\\n    background: #eee !important;\\r\\n    color: transparent !important;\\r\\n    border-color: transparent;\\r\\n}\\r\\n\\r\\n.sk-input::-webkit-input-placeholder {\\r\\n    color: transparent !important;\\r\\n}\\r\\n\\r\\n.sk-block {\\r\\n    background-color: #eee !important;\\r\\n    border-color: #eee !important;\\r\\n}\\r\\n\\r\\n.sk-ignore {\\r\\n    opacity: 0;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","import chromeMsg  from './util/chromeMsg'\r\nimport './style/index.css'\r\nimport { genSkeleton } from './skeleton'\r\n\r\nchromeMsg.on('createSkeleton', (config) => {\r\n\ttry {\r\n\t\tgenSkeleton(JSON.parse(config))\r\n\t\tconst skeletonHtml = '<style>'\r\n\t\t\t.concat(document.querySelector('style').innerHTML, '</style>')+'<style>'\r\n\t\t\t.concat(document.querySelectorAll('style')[1].innerHTML, '</style>')\r\n\t\t\t.concat(document.body.innerHTML)\r\n\t\tif (skeletonHtml) {\r\n\t\t\tchromeMsg.emit('createSkeletonOk') // 生成成功\r\n\t\t\tchromeMsg.emit('createSkeletonInfo', {\r\n\t\t\t\turl: window.location.href,\r\n\t\t\t\thtml: skeletonHtml,\r\n\t\t\t})\r\n\t\t}\r\n\t} catch (error) {\r\n\t\t// 生成失败\r\n\t}\r\n})\r\n","export const addBlick = () => {\r\n  const style = document.createElement('style')\r\n  const styleContent = `\r\n      @keyframes blink {\r\n        0% {\r\n          opacity: .4;\r\n        }\r\n\r\n        50% {\r\n          opacity: 1;\r\n        }\r\n\r\n        100% {\r\n          opacity: .4;\r\n        }\r\n      }\r\n      .blink {\r\n        animation-duration: 2s;\r\n        animation-name: blink;\r\n        animation-iteration-count: infinite;\r\n      }\r\n    `\r\n  style.innerHTML = styleContent\r\n  document.head.appendChild(style)\r\n  document.body.firstElementChild.classList.add('blink')\r\n}\r\n\r\nexport const addShine = () => {\r\n  const style = document.createElement('style')\r\n  const styleContent = `\r\n      body {\r\n        overflow: hidden;\r\n      }\r\n      @keyframes flush {\r\n        0% {\r\n          left: -100%;\r\n        }\r\n        50% {\r\n          left: 0;\r\n        }\r\n        100% {\r\n          left: 100%;\r\n        }\r\n      }\r\n      .sk-loading {\r\n        animation: flush 2s linear infinite;\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 0;\r\n        width: 100%;\r\n        background: linear-gradient(to left, \r\n          rgba(255, 255, 255, 0) 0%,\r\n          rgba(255, 255, 255, .85) 50%,\r\n          rgba(255, 255, 255, 0) 100%\r\n        )\r\n      }\r\n    `\r\n  style.innerHTML = styleContent\r\n  const load = document.createElement('div')\r\n  load.classList.add('sk-loading')\r\n  document.head.appendChild(style)\r\n  document.body.appendChild(load)\r\n}\r\n\r\nexport const addSpin = () => {\r\n  const style = document.createElement('style')\r\n  const styleContent = `\r\n      @keyframes loading-rotate {\r\n        100% {\r\n          transform: rotate(360deg);\r\n        }\r\n      }\r\n\r\n      @keyframes loading-dash {\r\n        0% {\r\n          stroke-dasharray: 1, 200;\r\n          stroke-dashoffset: 0;\r\n        }\r\n        50% {\r\n          stroke-dasharray: 90, 150;\r\n          stroke-dashoffset: -40px;\r\n        }\r\n        100% {\r\n          stroke-dasharray: 90, 150;\r\n          stroke-dashoffset: -120px;\r\n        }\r\n      }\r\n\r\n      .sk-loading-spinner {\r\n        top: 50%;\r\n        margin-top: -0.5rem;\r\n        width: 100%;\r\n        text-align: center;\r\n        position: absolute;\r\n      }\r\n\r\n      .sk-loading-spinner .circular {\r\n        height: 1rem;\r\n        width: 1rem;\r\n        animation: loading-rotate 2s linear infinite;\r\n      }\r\n\r\n      .sk-loading-spinner .path {\r\n        animation: loading-dash 1.5s ease-in-out infinite;\r\n        stroke-dasharray: 90,150;\r\n        stroke-dashoffset: 0;\r\n        stroke-width: 2;\r\n        stroke: #409eff;\r\n        stroke-linecap: round;\r\n      }\r\n    `\r\n  style.innerHTML = styleContent\r\n  document.head.appendChild(style)\r\n  const spinContainer = document.createElement('div')\r\n  spinContainer.classList.add('sk-loading-spinner')\r\n  spinContainer.innerHTML = `<svg viewBox=\"25 25 50 50\" class=\"circular\"><circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" class=\"path\"></circle></svg>`\r\n  document.body.appendChild(spinContainer)\r\n}\r\n","/**\r\n* constants\r\n*/\r\nexport const TRANSPARENT = 'transparent'\r\nexport const EXT_REG = /\\.(jpeg|jpg|png|gif|svg|webp)/\r\nexport const GRADIENT_REG = /gradient/\r\nexport const DISPLAY_NONE = /display:\\s*none/\r\nexport const PRE_REMOVE_TAGS = ['script']\r\nexport const AFTER_REMOVE_TAGS = ['title', 'meta', 'style']\r\nexport const SKELETON_STYLE = 'sk-style'\r\nexport const CLASS_NAME_PREFEX = 'sk-'\r\nexport const CONSOLE_SELECTOR = '.sk-console'\r\n// 最小 1 * 1 像素的透明 gif 图片\r\nexport const SMALLEST_BASE64 = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\r\nexport const MOCK_TEXT_ID = 'sk-text-id'\r\nexport const Node = window.Node\r\n","/**\r\n * use the same config options as image block.\r\n */\r\nimport { addStyle, shapeStyle } from './styleCache'\r\nimport { CLASS_NAME_PREFEX } from '../config'\r\nimport { addClassName } from '../util'\r\n\r\nfunction backgroundHandler(ele, { color, shape }) {\r\n  const imageClass = CLASS_NAME_PREFEX + 'image'\r\n  const shapeClass = CLASS_NAME_PREFEX + shape\r\n  const rule = `{\r\n    background: ${color} !important;\r\n  }`\r\n  \r\n  addStyle(`.${imageClass}`, rule)\r\n\r\n  shapeStyle(shape)\r\n\r\n  addClassName(ele, [imageClass, shapeClass])\r\n}\r\n\r\nexport default backgroundHandler\r\n","/**\r\n * [buttonHandler 改变 button 元素样式：包括去除 border和 box-shadow, 背景色和文字颜色统一]\r\n */\r\nimport { addStyle } from './styleCache'\r\nimport { CLASS_NAME_PREFEX } from '../config'\r\n\r\nfunction buttonHandler(ele, { color, excludes }) {\r\n  if (excludes.indexOf(ele) > -1) return false\r\n  const classname = CLASS_NAME_PREFEX + 'button'\r\n  const rule = `{\r\n    color: ${color} !important;\r\n    background: ${color} !important;\r\n    border: none !important;\r\n    box-shadow: none !important;\r\n  }`\r\n  addStyle(`.${classname}`, rule)\r\n  ele.classList.add(classname)\r\n}\r\n\r\nexport default buttonHandler\r\n","import { addStyle } from './styleCache'\r\nimport { CLASS_NAME_PREFEX, Node } from '../config'\r\n\r\nfunction grayHandler(ele, { color }) {\r\n  const classname = CLASS_NAME_PREFEX + 'gray'\r\n  const rule = `{\r\n    color: ${color} !important;\r\n    background: ${color} !important;\r\n  }`\r\n  addStyle(`.${classname}`, rule)\r\n  ele.classList.add(classname)\r\n\r\n  const elements = ele.querySelectorAll('*')\r\n  Array.from(elements).forEach(element => {\r\n    const childNodes = element.childNodes\r\n    if (Array.from(childNodes).some(n => n.nodeType === Node.TEXT_NODE)) {\r\n      element.classList.add(classname)\r\n    }\r\n  })\r\n}\r\n\r\nexport default grayHandler\r\n","import { SMALLEST_BASE64 as src, CLASS_NAME_PREFEX } from '../config'\r\nimport { getOppositeShape, setAttributes, addClassName } from '../util'\r\nimport { addStyle, shapeStyle } from './styleCache'\r\n\r\nfunction imgHandler(ele, { color, shape, shapeOpposite }) {\r\n  const { width, height } = ele.getBoundingClientRect()\r\n  const attrs = {\r\n    width,\r\n    height,\r\n    src\r\n  }\r\n\r\n  const finalShape = shapeOpposite.indexOf(ele) > -1 ? getOppositeShape(shape) : shape\r\n\r\n  setAttributes(ele, attrs)\r\n  \r\n  const className = CLASS_NAME_PREFEX + 'image'\r\n  const shapeName = CLASS_NAME_PREFEX + finalShape\r\n  const rule = `{\r\n    background: ${color} !important;\r\n  }`\r\n  addStyle(`.${className}`, rule)\r\n  shapeStyle(finalShape)\r\n\r\n  addClassName(ele, [className, shapeName])\r\n\r\n  if (ele.hasAttribute('alt')) {\r\n    ele.removeAttribute('alt')\r\n  }\r\n}\r\n\r\nexport default imgHandler\r\n","import list from './list'\r\nimport background from './background'\r\nimport button from './button'\r\nimport grayBlock from './grayBlock'\r\nimport image from './image'\r\nimport pseudos from './pseudos'\r\nimport svg from './svg'\r\nimport text from './text'\r\n\r\nexport {\r\n  list,\r\n  background,\r\n  button,\r\n  grayBlock,\r\n  image,\r\n  pseudos,\r\n  svg,\r\n  text\r\n}\r\n","function listHandle(ele) {\r\n  const children = ele.children\r\n  const len = Array.from(children).filter(child => child.tagName === 'LI').length\r\n  if (len === 0) return false\r\n  const firstChild = children[0]\r\n  // 解决有时ul元素子元素不是 li元素的 bug。\r\n  if (firstChild.tagName !== 'LI') return listHandle(firstChild)\r\n  Array.from(children).forEach((c, i) => {\r\n    if (i > 0) c.parentNode.removeChild(c)\r\n  })\r\n  // 将 li 所有兄弟元素设置成相同的元素，保证生成的页面骨架整齐\r\n  for (let i = 1; i < len; i++) {\r\n    ele.appendChild(firstChild.cloneNode(true))\r\n  }\r\n}\r\n\r\nexport default listHandle\r\n","import { getOppositeShape, addClassName } from '../util'\r\nimport { CLASS_NAME_PREFEX } from '../config'\r\nimport { addStyle } from './styleCache'\r\n\r\nfunction pseudosHandler({ ele, hasBefore, hasAfter }, { color, shape, shapeOpposite }) {\r\n  const finalShape = shapeOpposite.indexOf(ele) > -1 ? getOppositeShape(shape) : shape\r\n  const PSEUDO_CLASS = `${CLASS_NAME_PREFEX}pseudo`\r\n  const PSEUDO_RECT_CLASS = `${CLASS_NAME_PREFEX}pseudo-rect`\r\n  const PSEUDO_CIRCLE_CLASS = `${CLASS_NAME_PREFEX}pseudo-circle`\r\n\r\n  const rules = {\r\n    [`.${PSEUDO_CLASS}::before, .${PSEUDO_CLASS}::after`]: `{\r\n      background: ${color} !important;\r\n      background-image: none !important;\r\n      color: transparent !important;\r\n      border-color: transparent !important;\r\n    }`,\r\n    [`.${PSEUDO_RECT_CLASS}::before, .${PSEUDO_RECT_CLASS}::after`]: `{\r\n      border-radius: 0 !important;\r\n    }`,\r\n    [`.${PSEUDO_CIRCLE_CLASS}::before, .${PSEUDO_CIRCLE_CLASS}::after`]: `{\r\n      border-radius: 50% !important;\r\n    }`\r\n  }\r\n\r\n  Object.keys(rules).forEach(key => {\r\n    addStyle(key, rules[key])\r\n  })\r\n\r\n  addClassName(ele, [PSEUDO_CLASS, finalShape === 'circle' ? PSEUDO_CIRCLE_CLASS : PSEUDO_RECT_CLASS])\r\n}\r\n\r\nexport default pseudosHandler\r\n","/**\r\n * a Map instance to cache the styles which will be inserted into the skeleton page.\r\n * key is the selector and value is the css rules.\r\n */\r\nimport { CLASS_NAME_PREFEX } from '../config'\r\n\r\nconst styleCache = new Map()\r\n\r\n// some common styles\r\nexport const shapeStyle = (shape) => {\r\n  const selector = `.${CLASS_NAME_PREFEX + shape}`\r\n  const rule = `{\r\n    border-radius: ${shape === 'rect' ? '0' : '50%'};\r\n  }`\r\n  if (!styleCache.has(selector)) {\r\n    styleCache.set(selector, rule)\r\n  }\r\n}\r\n\r\nexport const addStyle = (selector, rule) => {\r\n  if (!styleCache.has(selector)) {\r\n    styleCache.set(selector, rule)\r\n  }\r\n}\r\n\r\nexport default styleCache\r\n","import { emptyElement, removeElement, getOppositeShape, px2relativeUtil, setOpacity, addClassName } from '../util'\r\nimport { TRANSPARENT, CLASS_NAME_PREFEX } from '../config'\r\nimport { addStyle, shapeStyle } from './styleCache'\r\n\r\nfunction svgHandler(ele, { color, shape, shapeOpposite }, cssUnit, decimal) {\r\n  const { width, height } = ele.getBoundingClientRect()\r\n\r\n  if (width === 0 || height === 0 || ele.getAttribute('aria-hidden') === 'true') {\r\n    return removeElement(ele)\r\n  }\r\n\r\n  const finalShape = shapeOpposite.indexOf(ele) > -1 ? getOppositeShape(shape) : shape\r\n\r\n  emptyElement(ele)\r\n\r\n  const shapeClassName = CLASS_NAME_PREFEX + shape\r\n  shapeStyle(shape)\r\n\r\n  Object.assign(ele.style, {\r\n    width: px2relativeUtil(width, cssUnit, decimal),\r\n    height: px2relativeUtil(height, cssUnit, decimal),\r\n  })\r\n\r\n  addClassName(ele, [shapeClassName])\r\n\r\n  if (color === TRANSPARENT) {\r\n    setOpacity(ele)\r\n  } else {\r\n    const className = CLASS_NAME_PREFEX + 'svg'\r\n    const rule = `{\r\n      background: ${color} !important;\r\n    }`\r\n    addStyle(`.${className}`, rule)\r\n    ele.classList.add(className)\r\n  }\r\n}\r\n\r\nexport default svgHandler\r\n","import { getComputedStyle, px2relativeUtil, getTextWidth, setOpacity, addClassName } from '../util'\r\nimport { addStyle } from './styleCache'\r\nimport { CLASS_NAME_PREFEX } from '../config'\r\n\r\nfunction addTextMask(paragraph, {\r\n  textAlign,\r\n  lineHeight,\r\n  paddingBottom,\r\n  paddingLeft,\r\n  paddingRight\r\n}, maskWidthPercent = 0.5) {\r\n  let left\r\n  let right\r\n  switch (textAlign) {\r\n    case 'center':\r\n      left = document.createElement('span')\r\n      right = document.createElement('span')\r\n      ;[left, right].forEach(mask => {\r\n        Object.assign(mask.style, {\r\n          display: 'inline-block',\r\n          width: `${maskWidthPercent / 2 * 100}%`,\r\n          height: lineHeight,\r\n          background: '#fff',\r\n          position: 'absolute',\r\n          bottom: paddingBottom\r\n        })\r\n      })\r\n      left.style.left = paddingLeft\r\n      right.style.right = paddingRight\r\n      paragraph.appendChild(left)\r\n      paragraph.appendChild(right)\r\n      break\r\n    case 'right':\r\n      left = document.createElement('span')\r\n      Object.assign(left.style, {\r\n        display: 'inline-block',\r\n        width: `${maskWidthPercent * 100}%`,\r\n        height: lineHeight,\r\n        background: '#fff',\r\n        position: 'absolute',\r\n        bottom: paddingBottom,\r\n        left: paddingLeft\r\n      })\r\n      paragraph.appendChild(left)\r\n      break\r\n    case 'left':\r\n    default:\r\n      right = document.createElement('span')\r\n      Object.assign(right.style, {\r\n        display: 'inline-block',\r\n        width: `${maskWidthPercent * 100}%`,\r\n        height: lineHeight,\r\n        background: '#fff',\r\n        position: 'absolute',\r\n        bottom: paddingBottom,\r\n        right: paddingRight\r\n      })\r\n      paragraph.appendChild(right)\r\n      break\r\n  }\r\n}\r\n\r\nfunction textHandler(ele, { color }, cssUnit, decimal) {\r\n  const { width } = ele.getBoundingClientRect()\r\n  // if the text block's width is less than 50, just set it to transparent.\r\n  if (width <= 50) {\r\n    return setOpacity(ele)\r\n  }\r\n  const comStyle = getComputedStyle(ele)\r\n  const text = ele.textContent\r\n  let {\r\n    lineHeight,\r\n    paddingTop,\r\n    paddingRight,\r\n    paddingBottom,\r\n    paddingLeft,\r\n    position: pos,\r\n    fontSize,\r\n    textAlign,\r\n    wordSpacing,\r\n    wordBreak\r\n  } = comStyle\r\n\r\n  if (!/\\d/.test(lineHeight)) {\r\n    const fontSizeNum = parseFloat(fontSize, 10) || 14\r\n    lineHeight = `${fontSizeNum * 1.4}px`\r\n  }\r\n\r\n  const position = ['fixed', 'absolute', 'flex'].find(p => p === pos) ? pos : 'relative'\r\n\r\n  const height = ele.offsetHeight\r\n  // Math.floor\r\n  const lineCount = (height - parseFloat(paddingTop, 10) - parseFloat(paddingBottom, 10)) / parseFloat(lineHeight, 10) | 0 // eslint-disable-line no-bitwise\r\n\r\n  let textHeightRatio = parseFloat(fontSize, 10) / parseFloat(lineHeight, 10)\r\n  if (Number.isNaN(textHeightRatio)) {\r\n    textHeightRatio = 1 / 1.4 // default number\r\n  }\r\n  /* eslint-disable no-mixed-operators */\r\n  const firstColorPoint = ((1 - textHeightRatio) / 2 * 100).toFixed(decimal)\r\n  const secondColorPoint = (((1 - textHeightRatio) / 2 + textHeightRatio) * 100).toFixed(decimal)\r\n  const backgroundSize = `100% ${px2relativeUtil(lineHeight, cssUnit, decimal)}`\r\n  const className = CLASS_NAME_PREFEX + 'text-' + firstColorPoint.toString(32).replace(/\\./g, '-')\r\n\r\n  const rule = `{\r\n    background-image: linear-gradient(transparent ${firstColorPoint}%, ${color} 0%, ${color} ${secondColorPoint}%, transparent 0%) !important;\r\n    background-size: ${backgroundSize};\r\n    position: ${position} !important;\r\n  }`\r\n\r\n  const invariableClassName = CLASS_NAME_PREFEX + 'text'\r\n\r\n  const invariableRule = `{\r\n    background-origin: content-box !important;\r\n    background-clip: content-box !important;\r\n    background-color: transparent !important;\r\n    color: transparent !important;\r\n    background-repeat: repeat-y !important;\r\n  }`\r\n\r\n  addStyle(`.${className}`, rule)\r\n  addStyle(`.${invariableClassName}`, invariableRule)\r\n  addClassName(ele, [className, invariableClassName])\r\n  /* eslint-enable no-mixed-operators */\r\n  // add white mask\r\n  if (lineCount > 1) {\r\n    addTextMask(ele, comStyle)\r\n  } else {\r\n    const textWidth = getTextWidth(text, {\r\n      fontSize,\r\n      lineHeight,\r\n      wordBreak,\r\n      wordSpacing\r\n    })\r\n    const textWidthPercent = textWidth / (width - parseInt(paddingRight, 10) - parseInt(paddingLeft, 10))\r\n    ele.style.backgroundSize = `${(textWidthPercent > 1 ? 1 : textWidthPercent) * 100}% ${px2relativeUtil(lineHeight, cssUnit, decimal)}`\r\n    switch (textAlign) {\r\n      case 'left': // do nothing\r\n        break\r\n      case 'center':\r\n        ele.style.backgroundPositionX = '50%'\r\n        break\r\n      case 'right':\r\n        ele.style.backgroundPositionX = '100%'\r\n        break\r\n    }\r\n  }\r\n}\r\n\r\nexport default textHandler\r\n","/** @format */\r\n\r\nimport {\r\n\t$$,\r\n\t$,\r\n\tgetComputedStyle,\r\n\tcheckHasPseudoEle,\r\n\tinViewPort,\r\n\tcheckHasBorder,\r\n\tisBase64Img,\r\n\ttransparent,\r\n\tcheckHasTextDecoration,\r\n\tremoveElement,\r\n\tsetOpacity,\r\n} from './util'\r\nimport {\r\n\tDISPLAY_NONE,\r\n\tNode,\r\n\tEXT_REG,\r\n\tTRANSPARENT,\r\n\tGRADIENT_REG,\r\n\tPRE_REMOVE_TAGS,\r\n\tMOCK_TEXT_ID,\r\n\tCONSOLE_SELECTOR,\r\n} from './config'\r\nimport * as handler from './handler/index.js'\r\nimport styleCache from './handler/styleCache'\r\n\r\nfunction traverse(options) {\r\n\tconst {\r\n\t\tremove,\r\n\t\texcludes,\r\n\t\ttext,\r\n\t\timage,\r\n\t\tbutton,\r\n\t\tsvg,\r\n\t\tgrayBlock,\r\n\t\tpseudo,\r\n\t\tcssUnit,\r\n\t\tdecimal,\r\n\t} = options\r\n\tconst excludesEle = excludes.length ? Array.from($$(excludes.join(','))) : []\r\n\tconst grayEle = grayBlock.length ? Array.from($$(grayBlock.join(','))) : []\r\n\tconst rootElement = document.documentElement\r\n\r\n\tconst texts = []\r\n\tconst buttons = []\r\n\tconst hasImageBackEles = []\r\n\tlet toRemove = []\r\n\tconst imgs = []\r\n\tconst svgs = []\r\n\tconst pseudos = []\r\n\tconst gradientBackEles = []\r\n\tconst grayBlocks = []\r\n\r\n\tif (Array.isArray(remove)) {\r\n\t\tremove.push(CONSOLE_SELECTOR, ...PRE_REMOVE_TAGS)\r\n\t\ttoRemove.push(...$$(remove.join(',')))\r\n\t}\r\n\r\n\tif (button && button.excludes.length) {\r\n\t\t// translate selector to element\r\n\t\tbutton.excludes = Array.from($$(button.excludes.join(',')))\r\n\t}\r\n\r\n\t;[svg, pseudo, image].forEach((type) => {\r\n\t\tif (type.shapeOpposite.length) {\r\n\t\t\ttype.shapeOpposite = Array.from($$(type.shapeOpposite.join(',')))\r\n\t\t}\r\n\t})\r\n\t// ! 转化之前先做一些操作\r\n\t;(function preTraverse(ele) {\r\n\t\tconst styles = getComputedStyle(ele)\r\n\t\tconst hasPseudoEle = checkHasPseudoEle(ele)\r\n\t\tif (!inViewPort(ele) || DISPLAY_NONE.test(ele.getAttribute('style'))) {\r\n\t\t\treturn toRemove.push(ele)\r\n\t\t}\r\n\t\t// https://www.kancloud.cn/chandler/javascript/785489\r\n\t\t// ~-1==>就是0\r\n\t\tif (~grayEle.indexOf(ele)) {\r\n\t\t\t// eslint-disable-line no-bitwise\r\n\t\t\treturn grayBlocks.push(ele)\r\n\t\t}\r\n\t\tif (~excludesEle.indexOf(ele)) return false // eslint-disable-line no-bitwise\r\n\r\n\t\tif (hasPseudoEle) {\r\n\t\t\tpseudos.push(hasPseudoEle)\r\n\t\t}\r\n\r\n\t\tif (checkHasBorder(styles)) {\r\n\t\t\tele.style.border = 'none'\r\n\t\t}\r\n\r\n\t\tif (ele.children.length > 0 && /UL|OL/.test(ele.tagName)) {\r\n\t\t\thandler.list(ele)\r\n\t\t}\r\n\t\tif (ele.children && ele.children.length > 0) {\r\n\t\t\tArray.from(ele.children).forEach((child) => preTraverse(child))\r\n\t\t}\r\n\r\n\t\t// 将所有拥有 textChildNode 子元素的元素的文字颜色设置成背景色，这样就不会在显示文字了。\r\n\t\tif (ele.childNodes && Array.from(ele.childNodes).some((n) => n.nodeType === Node.TEXT_NODE)) {\r\n\t\t\ttransparent(ele)\r\n\t\t}\r\n\t\tif (checkHasTextDecoration(styles)) {\r\n\t\t\tele.style.textDecorationColor = TRANSPARENT\r\n\t\t}\r\n\t\t// 隐藏所有 svg 元素\r\n\t\tif (ele.tagName === 'svg') {\r\n\t\t\treturn svgs.push(ele)\r\n\t\t}\r\n\t\t// ! 针对于容器中如果有background或者img的 如果有需要当做块处理 否则就以容器为处理\r\n\t\tif (EXT_REG.test(styles.background) || EXT_REG.test(styles.backgroundImage)) {\r\n\t\t\treturn hasImageBackEles.push(ele)\r\n\t\t}\r\n\t\t// export const GRADIENT_REG = /gradient/\r\n\t\t// CSS linear-gradient() 函数用于创建一个表示两种或多种颜色线性渐变的图片\r\n\t\tif (GRADIENT_REG.test(styles.background) || GRADIENT_REG.test(styles.backgroundImage)) {\r\n\t\t\treturn gradientBackEles.push(ele)\r\n\t\t}\r\n\t\tif (ele.tagName === 'IMG' || isBase64Img(ele)) {\r\n\t\t\treturn imgs.push(ele)\r\n\t\t}\r\n\t\tif (\r\n\t\t\tele.nodeType === Node.ELEMENT_NODE &&\r\n\t\t\t(ele.tagName === 'BUTTON' || (ele.tagName === 'A' && ele.getAttribute('role') === 'button'))\r\n\t\t) {\r\n\t\t\treturn buttons.push(ele)\r\n\t\t}\r\n\t\tif (\r\n\t\t\tele.childNodes &&\r\n\t\t\tele.childNodes.length === 1 &&\r\n\t\t\tele.childNodes[0].nodeType === Node.TEXT_NODE &&\r\n\t\t\t/\\S/.test(ele.childNodes[0].textContent)\r\n\t\t) {\r\n\t\t\treturn texts.push(ele)\r\n\t\t}\r\n\t})(rootElement)\r\n\r\n\t// ! dom节点 引用类型  这里统一收集对应类型的dom 然后集中用对应的handler处理\r\n\tconsole.log('button数组', buttons)\r\n\tconsole.log('hasImageBackEles', hasImageBackEles)\r\n\tconsole.log(pseudos, gradientBackEles, grayBlocks)\r\n\tsvgs.forEach((e) => handler.svg(e, svg, cssUnit, decimal))\r\n\ttexts.forEach((e) => handler.text(e, text, cssUnit, decimal))\r\n\tbuttons.forEach((e) => handler.button(e, button))\r\n\tconsole.log('imgs数组', imgs)\r\n\r\n\thasImageBackEles.forEach((e) => handler.background(e, image))\r\n\timgs.forEach((e) => handler.image(e, image))\r\n\tpseudos.forEach((e) => handler.pseudos(e, pseudo))\r\n\tgradientBackEles.forEach((e) => handler.background(e, image))\r\n\tgrayBlocks.forEach((e) => handler.grayBlock(e, button))\r\n\t// remove mock text wrapper\r\n\tconst offScreenParagraph = $(`#${MOCK_TEXT_ID}`)\r\n\tif (offScreenParagraph && offScreenParagraph.parentNode) {\r\n\t\ttoRemove.push(offScreenParagraph.parentNode)\r\n\t}\r\n\ttoRemove.forEach((e) => removeElement(e))\r\n}\r\n\r\nfunction genSkeleton(options) {\r\n\tconst { remove, hide, loading = 'spin' } = options\r\n\t/**\r\n\t * before walk\r\n\t */\r\n\t// 将 `hide` 队列中的元素通过调节透明度为 0 来进行隐藏\r\n\tif (hide.length) {\r\n\t\tconst hideEle = $$(hide.join(','))\r\n\t\tArray.from(hideEle).forEach((ele) => setOpacity(ele))\r\n\t}\r\n\t/**\r\n\t * walk in process\r\n\t */\r\n\r\n\ttraverse(options)\r\n\t/**\r\n\t * add `<style>`\r\n\t */\r\n\tlet rules = ''\r\n\r\n\tfor (const [selector, rule] of styleCache) {\r\n\t\trules += `${selector} ${rule}\\n`\r\n\t}\r\n\r\n\tconst styleEle = document.createElement('style')\r\n\r\n\tif (!window.createPopup) {\r\n\t\t// For Safari\r\n\t\tstyleEle.appendChild(document.createTextNode(''))\r\n\t}\r\n\tstyleEle.innerHTML = rules\r\n\tif (document.head) {\r\n\t\tdocument.head.appendChild(styleEle)\r\n\t} else {\r\n\t\tdocument.body.appendChild(styleEle)\r\n\t}\r\n}\r\n\r\nexport default {\r\n\tgenSkeleton, // 干了什么\r\n}\r\n","import { MOCK_TEXT_ID, TRANSPARENT, CLASS_NAME_PREFEX } from './config'\r\nimport { addStyle } from './handler/styleCache'\r\n\r\nexport const getComputedStyle = window.getComputedStyle\r\nexport const $$ = document.querySelectorAll.bind(document)\r\nexport const $ = document.querySelector.bind(document)\r\nexport const isBase64Img = (img) => /base64/.test(img.src)\r\n\r\nexport const setAttributes = (ele, attrs) => {\r\n  Object.keys(attrs).forEach(k => ele.setAttribute(k, attrs[k]))\r\n}\r\n\r\nexport const inViewPort = (ele) => {\r\n  const rect = ele.getBoundingClientRect()\r\n  return rect.top < window.innerHeight && rect.left < window.innerWidth\r\n}\r\n\r\nexport const checkHasPseudoEle = (ele) => {\r\n  const hasBefore = getComputedStyle(ele, '::before').getPropertyValue('content') !== ''\r\n  const hasAfter = getComputedStyle(ele, '::after').getPropertyValue('content') !== ''\r\n  if (hasBefore || hasAfter) {\r\n    return { hasBefore, hasAfter, ele }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const checkHasBorder = (styles) => styles.getPropertyValue('border-style') !== 'none'\r\n\r\nexport const getOppositeShape = (shape) => shape === 'circle' ? 'rect' : 'circle'\r\n\r\nexport const checkHasTextDecoration = (styles) => !/none/.test(styles.textDecorationLine)\r\n\r\nexport const getViewPort = () => {\r\n  const vh = window.innerHeight\r\n  const vw = window.innerWidth\r\n\r\n  return {\r\n    vh,\r\n    vw,\r\n    vmax: Math.max(vw, vh),\r\n    vmin: Math.min(vw, vh),\r\n  }\r\n}\r\n\r\nexport const px2relativeUtil = (px, unit = 'rem', decimal = 4) => {\r\n  const pxValue = typeof px === 'string' ? parseFloat(px, 10) : px\r\n  if (unit === 'rem') {\r\n    const htmlElementFontSize = getComputedStyle(document.documentElement).fontSize\r\n    return `${(pxValue / parseFloat(htmlElementFontSize, 10)).toFixed(decimal)}${unit}`\r\n  } else {\r\n    const dimensions = getViewPort()\r\n    const base = dimensions[unit]\r\n    return `${(pxValue / base * 100).toFixed(decimal)}${unit}`\r\n  }\r\n}\r\n\r\nexport const getTextWidth = (text, style) => {\r\n  let offScreenParagraph = document.querySelector(`#${MOCK_TEXT_ID}`)\r\n  if (!offScreenParagraph) {\r\n    const wrapper = document.createElement('p')\r\n    offScreenParagraph = document.createElement('span')\r\n    Object.assign(wrapper.style, {\r\n      width: '10000px'\r\n    })\r\n    offScreenParagraph.id = MOCK_TEXT_ID\r\n    wrapper.appendChild(offScreenParagraph)\r\n    document.body.appendChild(wrapper)\r\n  }\r\n  Object.assign(offScreenParagraph.style, style)\r\n  offScreenParagraph.textContent = text\r\n  return offScreenParagraph.getBoundingClientRect().width\r\n}\r\n\r\nexport const addClassName = (ele, classArray) => {\r\n  for (const name of classArray) {\r\n    ele.classList.add(name)\r\n  }\r\n}\r\n\r\nexport const setOpacity = (ele) => {\r\n  const className = CLASS_NAME_PREFEX + 'opacity'\r\n  const rule = `{\r\n    opacity: 0 !important;\r\n  }`\r\n  addStyle(`.${className}`, rule)\r\n  ele.classList.add(className)\r\n}\r\n\r\nexport const transparent = (ele) => {\r\n  const className = CLASS_NAME_PREFEX + 'transparent'\r\n  const rule = `{\r\n    color: ${TRANSPARENT} !important;\r\n  }`\r\n  addStyle(`.${className}`, rule)\r\n  ele.classList.add(className)\r\n}\r\n\r\nexport const removeElement = (ele) => {\r\n  const parent = ele.parentNode\r\n  if (parent) {\r\n    parent.removeChild(ele)\r\n  }\r\n}\r\n\r\nexport const emptyElement = (ele) => {\r\n  ele.innerHTML = ''\r\n}\r\n","/** @format */\r\n\r\nimport Skeleton from './script/main'\r\nimport { addSpin, addShine, addBlick } from './script/animation/index.js'\r\n\r\nfunction _toConsumableArray(e) {\r\n\treturn _arrayWithoutHoles(e) || _iterableToArray(e) || _nonIterableSpread()\r\n}\r\nfunction _nonIterableSpread() {\r\n\tthrow new TypeError('Invalid attempt to spread non-iterable instance')\r\n}\r\nfunction _iterableToArray(e) {\r\n\tif (Symbol.iterator in Object(e) || Object.prototype.toString.call(e) === '[object Arguments]')\r\n\t\treturn Array.from(e)\r\n}\r\nfunction _arrayWithoutHoles(e) {\r\n\tif (Array.isArray(e)) {\r\n\t\tfor (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t]\r\n\t\treturn n\r\n\t}\r\n}\r\n// * 将百分数转化为小数\r\nfunction per2num(e) {\r\n\treturn e.replace(/([0-9.]+)%/, function(e, t) {\r\n\t\treturn +t / 100\r\n\t})\r\n}\r\nfunction toPercent(e) {\r\n\treturn ''.concat(parseFloat(parseFloat(100 * e).toFixed(3)), '%')\r\n}\r\n// 进行dom元素筛选\r\nfunction sortChild(e) {\r\n\tlet t = []\r\n\treturn (\r\n\t\tArray.from(e.children).forEach(function(e) {\r\n\t\t\tconst n = sortChild(e)\r\n\t\t\tt.push([e].concat( (n)))\r\n\t\t}),\r\n\t\tt.sort(function(e, t) {\r\n\t\t\tconst n = getComputedStyle(e[0])\r\n\t\t\tconst o = getComputedStyle(t[0])\r\n\t\t\tlet r = n.zIndex\r\n\t\t\tlet a = o.zIndex\r\n\t\t\tconst i = n.position\r\n\t\t\tconst c = o.position\r\n\t\t\treturn (\r\n\t\t\t\ti !== 'static' && r === 'auto' && (r = 0),\r\n\t\t\t\tc !== 'static' && a === 'auto' && (a = 0),\r\n\t\t\t\tr === a\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: r !== 'auto' || isNaN(+a)\r\n\t\t\t\t\t? isNaN(+r) || a !== 'auto'\r\n\t\t\t\t\t\t? r - a\r\n\t\t\t\t\t\t: r - 1\r\n\t\t\t\t\t: -a - 1\r\n\t\t\t)\r\n\t\t}),\r\n\t\t(t = t.reduce(function(e, t) {\r\n\t\t\treturn e.concat(t)\r\n\t\t}, []))\r\n\t)\r\n}\r\nfunction toEhJson() {\r\n\tlet childs = null\r\n\tconsole.log(\"document.body\",document.body)\r\n\tchilds = sortChild(document.body)\r\n\tconsole.log(\"childs\",childs)\r\n\tchilds.forEach(function(e) {\r\n\t\tif (!unUseTagList.includes(e.tagName.toLowerCase())) {\r\n\t\t\tconst t = e.getBoundingClientRect() // 关键api\r\n\t\t\t// console.log('t===style', t)\r\n\t\t\tconst n = getComputedStyle(e)\r\n\t\t\tconst o = (getComputedStyle(e, '::before'), getComputedStyle(e, '::after'), n.boxSizing)\r\n\t\t\tlet r = t.width\r\n\t\t\tvar a = parseInt(t.height)\r\n\t\t\tconst i = parseInt(n.fontSize)\r\n\t\t\tconst c = n.lineHeight === 'normal' ? 1.2 * i : parseInt(n.lineHeight)\r\n\t\t\tlet d = t.left\r\n\t\t\td === 'auto' && (d = 0)\r\n\t\t\tlet s = t.top\r\n\t\t\tvar a = t.height\r\n\t\t\t// l 拿到dom元素的背景颜色 如果没有背景颜色===>容器\r\n\t\t\tconst l = (n.backgroundColor, n.backgroundImage)\r\n\t\t\tconst u = n.backgroundSize\r\n\t\t\tconst p = n.borderRadius\r\n\t\t\tlet h = (n.position, n.backgroundPositionX)\r\n\t\t\th.includes('px') && (h = toPercent(parseFloat(h) / innerWidth))\r\n\t\t\tconst f = (n.display, n.overflowY)\r\n\t\t\tconst m = n.boxShadow\r\n\t\t\tlet g = n.paddingLeft\r\n\t\t\tg === 'auto' && (g = 0)\r\n\t\t\tconst y = { color: n.backgroundColor }\r\n\t\t\tl !== 'none' &&\r\n\t\t\t\t((y.image = l),\r\n\t\t\t\t(y.size = n.backgroundSize),\r\n\t\t\t\t(y.repeat = n.backgroundRepeat),\r\n\t\t\t\t(y.repeat = n.backgroundPosition),\r\n\t\t\t\t(y.origin = n.backgroundOrigin))\r\n\t\t\tconst b = {\r\n\t\t\t\twidth: toPercent(parseFloat(n.borderLeftWidth) / innerWidth),\r\n\t\t\t\tstyle: n.borderLeftStyle,\r\n\t\t\t\tcolor: n.borderLeftColor,\r\n\t\t\t}\r\n\t\t\tconst v = {\r\n\t\t\t\twidth: toPercent(parseFloat(n.borderRightWidth) / innerWidth),\r\n\t\t\t\tstyle: n.borderRightStyle,\r\n\t\t\t\tcolor: n.borderRightColor,\r\n\t\t\t}\r\n\t\t\tconst E = {\r\n\t\t\t\twidth: toPercent(parseFloat(n.borderTopWidth) / innerWidth),\r\n\t\t\t\tstyle: n.borderTopStyle,\r\n\t\t\t\tcolor: n.borderTopColor,\r\n\t\t\t}\r\n\t\t\tconst A = {\r\n\t\t\t\twidth: toPercent(parseFloat(n.borderBottomWidth) / innerWidth),\r\n\t\t\t\tstyle: n.borderBottomStyle,\r\n\t\t\t\tcolor: n.borderBottomColor,\r\n\t\t\t}\r\n\t\t\tconst k = b.width !== '0%'\r\n\t\t\tconst w = v.width !== '0%'\r\n\t\t\tconst x = E.width !== '0%'\r\n\t\t\tconst T = A.width !== '0%'\r\n\t\t\tif (\r\n\t\t\t\t((f !== 'hidden' && f !== 'scroll') ||\r\n\t\t\t\t\tArray.from(e.getElementsByTagName('*')).forEach(function(e) {\r\n\t\t\t\t\t\t;(e.maxRight = d + r), (e.maxBottom = s + a), (e.minTop = s), (e.minLeft = d)\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t// 宽度和高度不等于0 文本有颜色 块的话有背景色（这个时候的颜色是饿了么骨架屏输出的出的颜色）\r\n\t\t\t\tr !== 0 && a !== 0 && (y.color !== 'rgba(0, 0, 0, 0)' || l !== 'none'))\r\n\t\t\t)\r\n\t\t\t\tif (Array.from(e.classList).includes('sk-text')) {\r\n\t\t\t\t\t// 文本元素的处理s\r\n\t\t\t\t\t;(r =\r\n\t\t\t\t\t\to === 'border-box'\r\n\t\t\t\t\t\t\t? r -\r\n\t\t\t\t\t\t\t  parseInt(g) -\r\n\t\t\t\t\t\t\t  parseInt(n.paddingRight) -\r\n\t\t\t\t\t\t\t  parseInt(n.borderLeftWidth) -\r\n\t\t\t\t\t\t\t  parseInt(n.borderRightWidth)\r\n\t\t\t\t\t\t\t: r),\r\n\t\t\t\t\t\t(a =\r\n\t\t\t\t\t\t\to === 'border-box'\r\n\t\t\t\t\t\t\t\t? a -\r\n\t\t\t\t\t\t\t\t  parseInt(n.paddingTop) -\r\n\t\t\t\t\t\t\t\t  parseInt(n.paddingBottom) -\r\n\t\t\t\t\t\t\t\t  parseInt(n.borderTopWidth) -\r\n\t\t\t\t\t\t\t\t  parseInt(n.borderBottomWidth)\r\n\t\t\t\t\t\t\t\t: a),\r\n\t\t\t\t\t\t(s = o === 'border-box' ? s + parseInt(n.paddingTop) : s),\r\n\t\t\t\t\t\t(d = o === 'border-box' ? parseFloat(d) + parseFloat(g) : d)\r\n\t\t\t\t\tlet S = r\r\n\t\t\t\t\tisNaN(+per2num(u.split(' ')[0])) || (S = r * per2num(u.split(' ')[0]))\r\n\t\t\t\t\tconst L = parseInt(a / c)\r\n\t\t\t\t\tif (L >= 2)\r\n\t\t\t\t\t\tfor (let N = 0; N < L; N++)\r\n\t\t\t\t\t\t\tlist.push({\r\n\t\t\t\t\t\t\t\twidth: toPercent(S / innerWidth),\r\n\t\t\t\t\t\t\t\theight: toPercent(i / innerWidth),\r\n\t\t\t\t\t\t\t\tleft: toPercent((d + (r - S) * per2num(h)) / innerWidth),\r\n\t\t\t\t\t\t\t\ttop: toPercent((s + (c - i) / 2 + c * N) / innerWidth),\r\n\t\t\t\t\t\t\t\tbackground: { color: '#EEEEEE' },\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tlist.push({\r\n\t\t\t\t\t\t\twidth: toPercent(S / innerWidth),\r\n\t\t\t\t\t\t\theight: toPercent(i / innerWidth),\r\n\t\t\t\t\t\t\tleft: toPercent((d + (r - S) * per2num(h)) / innerWidth),\r\n\t\t\t\t\t\t\ttop: toPercent((s + (c - i) / 2) / innerWidth),\r\n\t\t\t\t\t\t\tbackground: { color: '#EEEEEE' },\r\n\t\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\te.minTop && e.minTop > s && (s = e.minTop),\r\n\t\t\t\t\t\te.minLeft && e.minLeft > d && (d = e.minLeft),\r\n\t\t\t\t\t\te.maxBottom && e.maxBottom < s + a && (a = e.maxBottom - s),\r\n\t\t\t\t\t\te.maxRight && e.maxRight < d + r && (r = e.maxRight - d)\r\n\t\t\t\t\tconst O = {\r\n\t\t\t\t\t\twidth: toPercent(r / innerWidth),\r\n\t\t\t\t\t\theight: toPercent(a / innerWidth),\r\n\t\t\t\t\t\tleft: toPercent(d / innerWidth),\r\n\t\t\t\t\t\ttop: toPercent(s / innerWidth),\r\n\t\t\t\t\t\tbackground: y,\r\n\t\t\t\t\t\tbRadius: p.includes('%')\r\n\t\t\t\t\t\t\t? p\r\n\t\t\t\t\t\t\t: ''.concat(toPercent(parseFloat(p) / r), ' / ').concat(toPercent(parseFloat(p) / a)),\r\n\t\t\t\t\t}\r\n\t\t\t\t\tm !== 'none' && (O.boxShadow = m),\r\n\t\t\t\t\t\tk && (O.borderLeft = b),\r\n\t\t\t\t\t\tw && (O.borderRight = v),\r\n\t\t\t\t\t\tx && (O.borderTop = E),\r\n\t\t\t\t\t\tT && (O.borderBottom = A),\r\n\t\t\t\t\t\tlist.push(O)\r\n\t\t\t\t}\r\n\t\t}\r\n\t})\r\n\treturn list\r\n}\r\n// 生成绝对定位布局\r\nfunction toAbsoluteLayout(options) {\r\n\t// 这个函数不怕破坏dom结构 因为主要是收集dom结构的具体信息\r\n\tconst e = toEhJson()\r\n\tconsole.log('toAbsoluteLayout', e)\r\n\tconst cls = options.loading === 'chiaroscuro' ? 'class=\"blink\"' : ''\r\n\tdocument.querySelector(\r\n\t\t'html',\r\n\t).innerHTML = '\\n    <head>\\n      <title>前端-骨架屏预览</title>\\n      <meta name=\"viewport\" content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover\">\\n      <style>\\n        html, body, p {\\n          margin: 0;\\n          padding: 0;\\n        }\\n        html, body {\\n          width: 100%;\\n          height: 100%;\\n          overflow: hidden;\\n        }\\n        p {\\n          position: absolute;\\n        }\\n      </style>\\n    </head>\\n    <body>\\n      '.concat(\r\n\t\te\r\n\t\t\t.map(function(e, t) {\r\n\t\t\t\treturn '\\n<p   '\r\n\t\t\t\t\t.concat(cls)\r\n\t\t\t\t\t.concat('style=\"\\nz-index: ')\r\n\t\t\t\t\t.concat(t, ';\\n')\r\n\t\t\t\t\t.concat(e.boxShadow ? 'box-shadow: '.concat(e.boxShadow, ';') : '', '\\n')\r\n\t\t\t\t\t.concat(e.bRadius ? 'border-radius: '.concat(e.bRadius, ';') : '', '\\nbackground: ')\r\n\t\t\t\t\t.concat(e.background.color, ';\\nwidth: ')\r\n\t\t\t\t\t.concat(e.width, ';\\npadding-bottom: ')\r\n\t\t\t\t\t.concat(e.height, ';\\n')\r\n\t\t\t\t\t.concat(e.left !== '0%' ? 'left: '.concat(e.left, ';') : '', '\\nmargin-top: ')\r\n\t\t\t\t\t.concat(e.top, ';\"\\n></p>\\n')\r\n\t\t\t})\r\n\t\t\t.join(''),\r\n\t\t'\\n    </body>\\n  ',\r\n\t)\r\n\tswitch (options.loading) {\r\n\t\tcase 'chiaroscuro':\r\n\t\t\taddBlick()\r\n\t\t\tbreak\r\n\t\tcase 'spin':\r\n\t\t\taddSpin()\r\n\t\t\tbreak\r\n\t\tcase 'shine':\r\n\t\t\taddShine()\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\taddSpin()\r\n\t\t\tbreak\r\n\t}\r\n}\r\n\r\n// * 基本配置\r\nconst defaultOptions = {\r\n\tloading: 'chiaroscuro',\r\n\ttext: { color: '#EEEEEE' },\r\n\timage: { shape: 'rect', color: '#EFEFEF', shapeOpposite: [] },\r\n\tbutton: { color: '#EFEFEF', excludes: [] },\r\n\tsvg: { color: '#EFEFEF', shape: 'circle', shapeOpposite: [] },\r\n\tpseudo: { color: '#EFEFEF', shape: 'circle', shapeOpposite: [] },\r\n\texcludes: [],\r\n\tremove: [],\r\n\thide: [],\r\n\tgrayBlock: [],\r\n\tisRegularULList: true,\r\n\th5Only: false,\r\n\tcssUnit: 'rem',\r\n\tdecimal: 4,\r\n}\r\nvar unUseTagList = ['noscript', 'html', 'head', 'link', 'style', 'script', 'meta', 'title']\r\nvar list = []\r\n\r\nexport function genSkeleton(options) {\r\n\tconst skeletonOptins = { ...defaultOptions, ...options }\r\n\tSkeleton.genSkeleton(skeletonOptins)\r\n\ttoAbsoluteLayout(skeletonOptins)\r\n}\r\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./index.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","let eventList = []\r\nif (chrome.runtime) {\r\n    chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\r\n        let {command, content} = message\r\n        if (Array.isArray(eventList[command])) {\r\n            eventList[command].forEach(handler => {\r\n                handler(content, sender, sendResponse)\r\n            })\r\n        }\r\n    });\r\n\r\n}\r\n\r\nexport default {\r\n    on(eventName, cb, mult = false) {\r\n        if (!eventList[eventName]) {\r\n            eventList[eventName] = []\r\n        }\r\n\r\n        // 默认只监听同一个事件名只监听一次\r\n        if (typeof cb === 'function') {\r\n            if (eventList[eventName].length) {\r\n                console.log(`${eventName} 事件在其他地方已经监听，默认会覆盖其他地方的事件处理函数，如需要请传入第三个参数mult为true`)\r\n            }\r\n\r\n            if (mult) {\r\n                eventList[eventName].push(cb)\r\n            } else {\r\n                eventList[eventName] = [cb]\r\n            }\r\n        }\r\n    },\r\n    emit(command, content, tabId) {\r\n        if (tabId) {\r\n            // 向指定标签页发送消息\r\n            chrome.tabs.sendMessage(tabId, {command, content});\r\n        } else {\r\n            // 向background发送消息\r\n            chrome.runtime.sendMessage({command, content});\r\n        }\r\n    },\r\n    showAllListener() {\r\n        console.log(eventList)\r\n    }\r\n}\r\n"],"sourceRoot":""}